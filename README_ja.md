
# ✨ TinyPixel Studio

TinyPixel Studio は、ブラウザで動作する高機能かつ軽量なドット絵（ピクセルアート）エディタです。
PCとモバイルの両方に最適化されており、直感的な操作感と高度な画像変換機能を備えています。

## 🚀 主な機能

- **高性能な描画システム**: 低スペックなデバイスでも滑らかに動作する Canvas ベースのエンジン。
- **マルチデバイス対応**: PCでのマウス操作はもちろん、モバイルのタッチ操作やピンチズームにも完全対応。
- **Pixelate コンバーター**: 
  - 任意の画像を高品質なドット絵に変換。
  - **Median-Cut アルゴリズム**: 画像から最適なカラーパレットを自動生成。
  - **Floyd-Steinberg ディザリング**: 限られた色数で豊かな階調を表現。
  - **3種類の変換モード**: COVER（切り抜き）、CONTAIN（全体収め）、STRETCH（引き延ばし）。
- **インテリジェントなキャンバス操作**:
  - 数値入力欄で算術演算（例: `32 * 2`）をサポート。
  - 9方向のアンカー指定による柔軟なリサイズ。
- **データ永続化**: ブラウザの LocalStorage を利用し、作業内容は自動保存。クラッシュやリロード後も即座に復帰可能。
- **多様なエクスポート**: PNG、SVG 形式に対応。
- **オフライン動作 (PWA)**: 一度読み込めばインターネット接続がなくても利用可能。

## 🛠 テクニック & アーキテクチャ

### 画像処理アルゴリズム
ドット絵変換の核心として以下のロジックを採用しています：
1. **幾何変換 (Geometry Phase)**: 指定されたアンカーとモードに基づき、最近傍補間（Nearest Neighbor）で低解像度へリサイズ。
2. **減色処理 (Quantization)**: Median-Cut法を用いて、入力画像の特徴を捉えたカラーパレットを生成。
3. **誤差拡散 (Dithering)**: Floyd-Steinberg法により、量子化誤差を隣接ピクセルに拡散させ、滑らかなグラデーションを再現。

### パフォーマンス最適化
- **Canvas API**: DOM要素を最小限に抑え、描画処理をCanvasに集約。
- **デバウンス処理**: Pixelateプレビュー等の重い処理は、ユーザーの入力を待ってから実行し、UIのフリーズを防止。
- **イメージレンダリング**: CSSの `image-rendering: pixelated` を活用し、拡大表示時もボケのない鮮明なドットを表示。

## 📖 使い方

### 基本操作
- **ペン/消しゴム**: ドットを描画・削除します。
- **塗りつぶし (バケツ)**: 隣接する同色エリアを一括で変更します。
- **スポイト**: キャンバス上の色を取得します。
- **ズーム**: マウスホイールまたはピンチ操作で拡大縮小。

### Pixelate コンバーター
1. ヘッダーの「✨ Pixelate」ボタンをクリック。
2. 画像を選択。
3. 出力サイズ（Width/Height）を設定。
4. パレット色数（8〜256、またはフルカラー）を選択。
5. 必要に応じてディザリングを有効化。
6. 「Apply to Editor」でエディタに反映。

## 📝 技術スタック
- **Frontend**: React 19, TypeScript
- **Styling**: Tailwind CSS
- **Icons/UI**: Lucide-like custom SVG icons
- **Runtime**: ESM.sh (No build step required for browser execution)

---

Developed with ❤️ by Senior Frontend Engineer.
